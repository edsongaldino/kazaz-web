<div class="contatos-wrapper">
  <div class="header">
    <button mat-raised-button class="btn-incluir-contato" color="primary" (click)="abrirDialogNovo()">
      Incluir
    </button>
  </div>

  <table
    mat-table
    [dataSource]="contatos()"
    class="mat-elevation-z1 table-contatos"
    *ngIf="contatos().length > 0; else vazio"
  >
    <!-- Tipo -->
    <ng-container matColumnDef="tipo">
      <th mat-header-cell *matHeaderCellDef>TIPO (e-mail, telefone, site)</th>
      <td mat-cell *matCellDef="let c">{{ labelTipo(c.tipo) }}</td>
    </ng-container>

    <!-- Valor -->
    <ng-container matColumnDef="valor">
      <th mat-header-cell *matHeaderCellDef>Valor</th>
      <td mat-cell *matCellDef="let c">{{ c.valor }}</td>
    </ng-container>

    <!-- Principal -->
    <ng-container matColumnDef="principal">
      <th mat-header-cell *matHeaderCellDef>Principal / Adicional</th>
      <td mat-cell *matCellDef="let c">
        {{ c.principal ? 'Principal' : 'Adicional' }}
      </td>
    </ng-container>

    <!-- Ações -->
    <ng-container matColumnDef="acoes">
      <th mat-header-cell *matHeaderCellDef></th>
      <td mat-cell *matCellDef="let c; let i = index" class="acoes">
        <button mat-icon-button color="accent" (click)="editar(i)">
          <mat-icon>edit</mat-icon>
        </button>
        <button mat-icon-button color="warn" (click)="remover(i)">
          <mat-icon>delete</mat-icon>
        </button>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
  </table>

  <ng-template #vazio>
    <p class="empty">Nenhum contato incluído.</p>
  </ng-template>

</div>
